This code works but I'm not sure it's the preferred solution or efficient. Let me know if there are better ways to do this using parent node etc. 
